{
  "version": 3,
  "sources": ["../../src/Foundation/ComponentLoader.ts"],
  "sourcesContent": ["class ComponentLoader {\r\n    name: string|null;\r\n    element: HTMLElement;\r\n    settings: any;\r\n    instanceId: string;\r\n\r\n    constructor(element: HTMLElement) {\r\n        this.name = element.getAttribute('data-component');\r\n        this.element = element;\r\n        this.settings = this.initSettings(element);\r\n        this.instanceId = this.generateInstanceId();\r\n        this.element.setAttribute('data-intance-id', `${this.name}__${this.instanceId}`);\r\n\r\n        console.debug(`ComponentLoader: ${this.name} loaded`, this);\r\n    }\r\n\r\n    initSettings(element: HTMLElement) {\r\n        const componentName = element.getAttribute('data-component');\r\n        let dataSettings = element.getAttribute('data-settings');\r\n\r\n        if (!dataSettings) {\r\n          return {};\r\n        }\r\n    \r\n        try {\r\n          return JSON.parse(dataSettings);\r\n        } catch (err) {\r\n            console.error(`ComponentLoader: Could not JSON.parse data-settings for ${componentName}`);\r\n          return {};\r\n        }\r\n    }\r\n\r\n    generateInstanceId(length = 6) {\r\n        const characters = '23456789ABDEGJKMNPQRVWXYZ';\r\n\r\n        let id = '';\r\n\r\n        for (let i = 0; i < length; i++) {\r\n            id += characters.charAt(Math.floor(Math.random() * characters.length));\r\n        }\r\n\r\n        return id;\r\n    }\r\n};\r\n\r\nexport default ComponentLoader;"],
  "mappings": "ygBAAA,IAAMA,EAAN,KAAsB,CAMlB,YAAYC,EAAsB,CAC9B,KAAK,KAAOA,EAAQ,aAAa,gBAAgB,EACjD,KAAK,QAAUA,EACf,KAAK,SAAW,KAAK,aAAaA,CAAO,EACzC,KAAK,WAAa,KAAK,mBAAmB,EAC1C,KAAK,QAAQ,aAAa,kBAAmB,GAAG,KAAK,IAAI,KAAK,KAAK,UAAU,EAAE,EAE/E,QAAQ,MAAM,oBAAoB,KAAK,IAAI,UAAW,IAAI,CAC9D,CAEA,aAAaA,EAAsB,CAC/B,IAAMC,EAAgBD,EAAQ,aAAa,gBAAgB,EACvDE,EAAeF,EAAQ,aAAa,eAAe,EAEvD,GAAI,CAACE,EACH,MAAO,CAAC,EAGV,GAAI,CACF,OAAO,KAAK,MAAMA,CAAY,CAChC,MAAc,CACV,eAAQ,MAAM,2DAA2DD,CAAa,EAAE,EACnF,CAAC,CACV,CACJ,CAEA,mBAAmBE,EAAS,EAAG,CAC3B,IAAMC,EAAa,4BAEfC,EAAK,GAET,QAASC,EAAI,EAAGA,EAAIH,EAAQG,IACxBD,GAAMD,EAAW,OAAO,KAAK,MAAM,KAAK,OAAO,EAAIA,EAAW,MAAM,CAAC,EAGzE,OAAOC,CACX,CACJ,EAEOE,EAAQR",
  "names": ["ComponentLoader", "element", "componentName", "dataSettings", "length", "characters", "id", "i", "ComponentLoader_default"]
}
